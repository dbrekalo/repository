!function(o,n){"use strict";function l(o){return"resolved"!==e[o].deferred.state()?e[o].dependencies?void r.require(e[o].dependencies,function(){d(o)}):void d(o):void 0}function d(n){if(e[n].resolver())return e[n].onResolve&&e[n].onResolve(),void e[n].deferred.resolve();var s=e[n].resources;r.load({load:o.isArray(s)?s.slice(0):s,complete:function(){"resolved"!==e[n].deferred.state()&&e[n].onResolve&&e[n].onResolve(),e[n].deferred.resolve()},fail:function(){e[n].deferred.reject()}})}function a(s,n){var i=n.namespace?n.namespace:n.resolver?n.resolver:s;n.resolver=function(e){return r.exists(i,e)},e[s]=n,e[s].deferred=o.Deferred(),e[s].resolver()&&(e[s].scriptCached=!0)}var e,i,t,s,r;o.wk=o.wk||{},e={},i="",t=!1,s=o.wk.load||n.yepnope||n.Modernizr&&n.Modernizr.load,r={require:function(d,u,c){var s=[],r=o.Deferred(),i=o.isArray(d)?d:d.split(" ");return o.each(i,function(i,o){if(e[o])s.push(e[o].deferred),l(o);else if(t){var n=t(o);n?(a(o,{resources:n}),s.push(e[o].deferred),l(o)):r.reject()}else r.reject()}),u&&o.when(r).done(function(){var r,o=[];for(r=0;r<(s.length||1);r++)o.push("function"==typeof e[i[r]].provides?e[i[r]].provides():e[i[r]].resolver(!0));c?u.apply(c,o):u.apply(n,o)}),o.when.apply(n,s).done(function(){r.resolve()}).fail(function(){r.reject()}),r},register:function(s,e,i,t){var n={};return n=o.isPlainObject(e)?e:o.extend({resources:e,resolver:i},t),a(s,n),r},config:function(e){return o.each(e.resources,function(e,r){a(e,r)}),e.baseUrl&&r.setBaseUrl(e.baseUrl),e.loadEngine&&r.setLoadEngine(e.loadEngine),e.loadSufix&&r.setLoadSufix(e.loadSufix),e.resolveFileByNamespace&&r.setResolveFileByNamespace(e.resolveFileByNamespace),void 0!==e.lesserBrowserFlag&&r.setLesserBrowserFlag(e.lesserBrowserFlag),r},load:function(e){var n=r.load.sufix,t=["load","nope","yep"];if(o.each(t,function(s,r){e[r]&&(o.isArray(e[r])?o.each(e[r],function(o){e[r][o]=i+e[r][o]+n}):e[r]=i+e[r]+n)}),!s)throw"There is no loader engine available (Yepnope or Modernizr.load or Simpleloader)";r.load.lesserBrowserFlag?setTimeout(function(){s(e)},20):s(e)},setBaseUrl:function(e){return i=e,r},setLoadEngine:function(e){return s=e,r},setLoadSufix:function(e){return r.load.sufix=e,r},setLesserBrowserFlag:function(e){return r.load.lesserBrowserFlag=e,r},setResolveFileByNamespace:function(e){t=e},exists:function(o,s){var i,r=o.split("."),e=n;for(i in r)if(e=e[r[i]],void 0===e)return!1;return s?e:!0},isScriptCached:function(r){return!!e[r].scriptCached}},o.wk.repo=r,r.load.sufix="",r.load.lesserBrowserFlag=!1}(window.jQuery||window.Zepto,window);